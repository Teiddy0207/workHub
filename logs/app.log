{"level":"INFO","time":"2025-10-06T14:36:43.966+0700","caller":"service/auth_service.go:27","msg":"start register","module":"auth_service","function":"Register","trace_id":"no-trace","email":"test@example.com"}
{"level":"INFO","time":"2025-10-06T14:36:44.033+0700","caller":"repository/auth_repo.go:31","msg":"auth_repo:CreateUser","email":"test@example.com"}
{"level":"INFO","time":"2025-10-06T14:36:44.033+0700","caller":"service/auth_service.go:45","msg":"register success","module":"auth_service","function":"Register","trace_id":"no-trace","email":"test@example.com"}


{"level":"INFO","time":"2025-10-06T17:06:43.066+0700","caller":"service/auth_service.go:78","msg":"start list users","module":"auth_service","function":"GetListUser","trace_id":"no-trace","keyword":"","page":1,"limit":10}
{"level":"INFO","time":"2025-10-06T17:06:43.097+0700","caller":"service/auth_service.go:92","msg":"list users success","module":"auth_service","function":"GetListUser","trace_id":"no-trace","count":1,"total":1}
{"level":"INFO","time":"2025-10-06T17:07:11.542+0700","caller":"service/auth_service.go:29","msg":"start register","module":"auth_service","function":"Register","trace_id":"no-trace","email":"test@example123.com"}
{"level":"INFO","time":"2025-10-06T17:07:11.630+0700","caller":"repository/auth_repo.go:32","msg":"auth_repo:CreateUser","email":"test@example123.com"}
{"level":"INFO","time":"2025-10-06T17:07:11.630+0700","caller":"service/auth_service.go:47","msg":"register success","module":"auth_service","function":"Register","trace_id":"no-trace","email":"test@example123.com"}
{"level":"INFO","time":"2025-10-06T17:07:13.750+0700","caller":"service/auth_service.go:78","msg":"start list users","module":"auth_service","function":"GetListUser","trace_id":"no-trace","keyword":"","page":1,"limit":10}
{"level":"INFO","time":"2025-10-06T17:07:13.756+0700","caller":"service/auth_service.go:92","msg":"list users success","module":"auth_service","function":"GetListUser","trace_id":"no-trace","count":2,"total":2}
{"level":"INFO","time":"2025-10-13T20:34:21.335+0700","caller":"service/auth_service.go:76","msg":"start list users","module":"auth_service","function":"GetListUser","trace_id":"no-trace","keyword":"","page":1,"limit":10}
{"level":"INFO","time":"2025-10-13T20:34:21.342+0700","caller":"service/auth_service.go:90","msg":"list users success","module":"auth_service","function":"GetListUser","trace_id":"no-trace","count":2,"total":2}


{"level":"INFO","time":"2025-10-13T20:36:56.305+0700","caller":"service/auth_service.go:76","msg":"start list users","module":"auth_service","function":"GetListUser","trace_id":"no-trace","keyword":"","page":1,"limit":10}
{"level":"INFO","time":"2025-10-13T20:36:56.307+0700","caller":"service/auth_service.go:90","msg":"list users success","module":"auth_service","function":"GetListUser","trace_id":"no-trace","count":2,"total":2}
{"level":"INFO","time":"2025-10-16T11:24:44.729+0700","caller":"service/auth_service.go:76","msg":"start list users","module":"auth_service","function":"GetListUser","trace_id":"no-trace","keyword":"","page":1,"limit":10}
{"level":"INFO","time":"2025-10-16T11:24:44.761+0700","caller":"service/auth_service.go:90","msg":"list users success","module":"auth_service","function":"GetListUser","trace_id":"no-trace","count":2,"total":2}
{"level":"ERROR","time":"2025-10-20T22:05:46.976+0700","caller":"logger/logger.go:45","msg":"service:NewJWTService","msg":"JWT service init failed","error":"failed to parse public key from PEM: x509: malformed tbs certificate","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/router.InitRouter\n\tD:/here/workHub/router/router.go:34\nmain.main\n\tD:/here/workHub/cmd/main.go:26\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"INFO","time":"2025-11-02T22:14:00.338+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-02T22:14:33.265+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-02T22:17:32.465+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"CreateRole controller called"}
{"level":"INFO","time":"2025-11-02T22:17:32.467+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"Request received: name=Administrator, code=ADMIN"}
{"level":"INFO","time":"2025-11-02T22:17:32.468+0700","caller":"logger/logger.go:37","msg":"service:CreateRole","msg":"Creating new role: Administrator (ADMIN)"}
{"level":"INFO","time":"2025-11-02T22:17:32.468+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByCode","msg":"Getting role by code: ADMIN"}
{"level":"ERROR","time":"2025-11-02T22:17:32.478+0700","caller":"logger/logger.go:45","msg":"repository:GetRoleByCode","msg":"Role not found: ADMIN, error: record not found","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/repository.(*roleRepository).GetRoleByCode\n\tD:/here/workHub/internal/repository/role_repo.go:69\nworkHub/internal/service.(*RoleService).CreateRole\n\tD:/here/workHub/internal/service/role_service.go:35\nworkHub/internal/controller.(*RoleController).CreateRole\n\tD:/here/workHub/internal/controller/role_controller.go:41\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"INFO","time":"2025-11-02T22:17:32.483+0700","caller":"logger/logger.go:37","msg":"repository:CreateRole","msg":"Creating role: Administrator (ADMIN)"}
{"level":"ERROR","time":"2025-11-02T22:17:32.499+0700","caller":"logger/logger.go:45","msg":"repository:CreateRole","msg":"Failed to create role: ERROR: duplicate key value violates unique constraint \"uni_roles_name\" (SQLSTATE 23505)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/repository.(*roleRepository).CreateRole\n\tD:/here/workHub/internal/repository/role_repo.go:35\nworkHub/internal/service.(*RoleService).CreateRole\n\tD:/here/workHub/internal/service/role_service.go:44\nworkHub/internal/controller.(*RoleController).CreateRole\n\tD:/here/workHub/internal/controller/role_controller.go:41\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"ERROR","time":"2025-11-02T22:17:32.500+0700","caller":"logger/logger.go:45","msg":"service:CreateRole","msg":"Failed to create role: ERROR: duplicate key value violates unique constraint \"uni_roles_name\" (SQLSTATE 23505)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/service.(*RoleService).CreateRole\n\tD:/here/workHub/internal/service/role_service.go:46\nworkHub/internal/controller.(*RoleController).CreateRole\n\tD:/here/workHub/internal/controller/role_controller.go:41\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"ERROR","time":"2025-11-02T22:17:32.500+0700","caller":"logger/logger.go:45","msg":"controller:CreateRole","msg":"Service error: ERROR: duplicate key value violates unique constraint \"uni_roles_name\" (SQLSTATE 23505)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/controller.(*RoleController).CreateRole\n\tD:/here/workHub/internal/controller/role_controller.go:43\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"INFO","time":"2025-11-02T22:18:10.316+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"CreateRole controller called"}
{"level":"INFO","time":"2025-11-02T22:18:10.318+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"Request received: name=Administrator, code=ADMIN"}
{"level":"INFO","time":"2025-11-02T22:18:10.318+0700","caller":"logger/logger.go:37","msg":"service:CreateRole","msg":"Creating new role: Administrator (ADMIN)"}
{"level":"INFO","time":"2025-11-02T22:18:10.318+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByCode","msg":"Getting role by code: ADMIN"}
{"level":"ERROR","time":"2025-11-02T22:18:10.321+0700","caller":"logger/logger.go:45","msg":"repository:GetRoleByCode","msg":"Role not found: ADMIN, error: record not found","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/repository.(*roleRepository).GetRoleByCode\n\tD:/here/workHub/internal/repository/role_repo.go:69\nworkHub/internal/service.(*RoleService).CreateRole\n\tD:/here/workHub/internal/service/role_service.go:35\nworkHub/internal/controller.(*RoleController).CreateRole\n\tD:/here/workHub/internal/controller/role_controller.go:41\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"INFO","time":"2025-11-02T22:18:10.321+0700","caller":"logger/logger.go:37","msg":"repository:CreateRole","msg":"Creating role: Administrator (ADMIN)"}
{"level":"INFO","time":"2025-11-02T22:18:10.326+0700","caller":"logger/logger.go:37","msg":"repository:CreateRole","msg":"Role created successfully: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-02T22:18:10.326+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Getting role by ID: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-02T22:18:10.328+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Role found: Administrator"}
{"level":"INFO","time":"2025-11-02T22:18:10.328+0700","caller":"logger/logger.go:37","msg":"service:CreateRole","msg":"Role created successfully: Administrator"}
{"level":"INFO","time":"2025-11-02T22:18:10.329+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"Role created successfully"}
{"level":"INFO","time":"2025-11-02T22:18:31.102+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"CreateRole controller called"}
{"level":"INFO","time":"2025-11-02T22:18:31.103+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"Request received: name=Administrator test 2, code=ADMIN2"}
{"level":"INFO","time":"2025-11-02T22:18:31.103+0700","caller":"logger/logger.go:37","msg":"service:CreateRole","msg":"Creating new role: Administrator test 2 (ADMIN2)"}
{"level":"INFO","time":"2025-11-02T22:18:31.103+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByCode","msg":"Getting role by code: ADMIN2"}
{"level":"ERROR","time":"2025-11-02T22:18:31.105+0700","caller":"logger/logger.go:45","msg":"repository:GetRoleByCode","msg":"Role not found: ADMIN2, error: record not found","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/repository.(*roleRepository).GetRoleByCode\n\tD:/here/workHub/internal/repository/role_repo.go:69\nworkHub/internal/service.(*RoleService).CreateRole\n\tD:/here/workHub/internal/service/role_service.go:35\nworkHub/internal/controller.(*RoleController).CreateRole\n\tD:/here/workHub/internal/controller/role_controller.go:41\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"INFO","time":"2025-11-02T22:18:31.105+0700","caller":"logger/logger.go:37","msg":"repository:CreateRole","msg":"Creating role: Administrator test 2 (ADMIN2)"}
{"level":"INFO","time":"2025-11-02T22:18:31.109+0700","caller":"logger/logger.go:37","msg":"repository:CreateRole","msg":"Role created successfully: 0b0adca1-2e84-4bf0-a509-8b5af78d50b4"}
{"level":"INFO","time":"2025-11-02T22:18:31.110+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Getting role by ID: 0b0adca1-2e84-4bf0-a509-8b5af78d50b4"}
{"level":"INFO","time":"2025-11-02T22:18:31.111+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Role found: Administrator test 2"}
{"level":"INFO","time":"2025-11-02T22:18:31.111+0700","caller":"logger/logger.go:37","msg":"service:CreateRole","msg":"Role created successfully: Administrator test 2"}
{"level":"INFO","time":"2025-11-02T22:18:31.111+0700","caller":"logger/logger.go:37","msg":"controller:CreateRole","msg":"Role created successfully"}
{"level":"INFO","time":"2025-11-02T22:18:41.223+0700","caller":"logger/logger.go:37","msg":"controller:ListRoles","msg":"ListRoles controller called"}
{"level":"INFO","time":"2025-11-02T22:18:41.232+0700","caller":"logger/logger.go:37","msg":"controller:ListRoles","msg":"Query params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-02T22:18:41.232+0700","caller":"logger/logger.go:37","msg":"service:ListRoles","msg":"Listing roles with params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-02T22:18:41.232+0700","caller":"logger/logger.go:37","msg":"repository:ListRoles","msg":"Listing roles with params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-02T22:18:41.242+0700","caller":"logger/logger.go:37","msg":"repository:ListRoles","msg":"Found 2 roles (total: 2)"}
{"level":"INFO","time":"2025-11-02T22:18:41.243+0700","caller":"logger/logger.go:37","msg":"service:ListRoles","msg":"Listed 2 roles successfully"}
{"level":"INFO","time":"2025-11-02T22:18:41.243+0700","caller":"logger/logger.go:37","msg":"controller:ListRoles","msg":"Roles listed successfully"}
{"level":"INFO","time":"2025-11-03T22:46:33.503+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T22:46:33.545+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T22:46:33.545+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"ERROR","time":"2025-11-03T22:46:33.717+0700","caller":"logger/logger.go:45","msg":"config:AutoMigrate","msg":"Migration failed: ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/config.AutoMigrate\n\tD:/here/workHub/config/database.go:44\nmain.main\n\tD:/here/workHub/cmd/main.go:37\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"ERROR","time":"2025-11-03T22:46:33.717+0700","caller":"logger/logger.go:45","msg":"main:main","msg":"Failed to migrate database: failed to auto migrate: ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nmain.main\n\tD:/here/workHub/cmd/main.go:38\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"INFO","time":"2025-11-03T22:46:46.945+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T22:46:46.966+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T22:46:46.967+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"ERROR","time":"2025-11-03T22:46:47.076+0700","caller":"logger/logger.go:45","msg":"config:AutoMigrate","msg":"Migration failed: ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/config.AutoMigrate\n\tD:/here/workHub/config/database.go:44\nmain.main\n\tD:/here/workHub/cmd/main.go:37\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"ERROR","time":"2025-11-03T22:46:47.076+0700","caller":"logger/logger.go:45","msg":"main:main","msg":"Failed to migrate database: failed to auto migrate: ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nmain.main\n\tD:/here/workHub/cmd/main.go:38\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"INFO","time":"2025-11-03T22:48:25.738+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T22:48:25.764+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T22:48:25.764+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"ERROR","time":"2025-11-03T22:48:25.950+0700","caller":"logger/logger.go:45","msg":"config:AutoMigrate","msg":"Migration failed (junction tables): ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/config.AutoMigrate\n\tD:/here/workHub/config/database.go:53\nmain.main\n\tD:/here/workHub/cmd/main.go:37\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"ERROR","time":"2025-11-03T22:48:25.951+0700","caller":"logger/logger.go:45","msg":"main:main","msg":"Failed to migrate database: failed to auto migrate junction tables: ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nmain.main\n\tD:/here/workHub/cmd/main.go:38\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"INFO","time":"2025-11-03T22:48:32.709+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T22:48:32.728+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T22:48:32.729+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"ERROR","time":"2025-11-03T22:48:32.881+0700","caller":"logger/logger.go:45","msg":"config:AutoMigrate","msg":"Migration failed (junction tables): ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/config.AutoMigrate\n\tD:/here/workHub/config/database.go:53\nmain.main\n\tD:/here/workHub/cmd/main.go:37\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"ERROR","time":"2025-11-03T22:48:32.881+0700","caller":"logger/logger.go:45","msg":"main:main","msg":"Failed to migrate database: failed to auto migrate junction tables: ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nmain.main\n\tD:/here/workHub/cmd/main.go:38\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"INFO","time":"2025-11-03T22:50:26.529+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T22:50:26.547+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T22:50:26.547+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"ERROR","time":"2025-11-03T22:50:26.700+0700","caller":"logger/logger.go:45","msg":"config:AutoMigrate","msg":"Migration failed (junction tables): ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/config.AutoMigrate\n\tD:/here/workHub/config/database.go:62\nmain.main\n\tD:/here/workHub/cmd/main.go:37\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"ERROR","time":"2025-11-03T22:50:26.700+0700","caller":"logger/logger.go:45","msg":"main:main","msg":"Failed to migrate database: failed to auto migrate junction tables: ERROR: there is no unique constraint matching given keys for referenced table \"roles\" (SQLSTATE 42830)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nmain.main\n\tD:/here/workHub/cmd/main.go:38\nruntime.main\n\tC:/Program Files/Go/src/runtime/proc.go:283"}
{"level":"INFO","time":"2025-11-03T22:52:04.823+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T22:52:04.852+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T22:52:04.852+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"INFO","time":"2025-11-03T22:52:05.107+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Database migration completed: roles, users, sessions, permissions, role_permissions, user_roles tables created/updated"}
{"level":"INFO","time":"2025-11-03T22:52:05.110+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"WARN","time":"2025-11-03T22:53:35.574+0700","caller":"logger/logger.go:41","msg":"middleware:AuthMiddleware","msg":"Missing Authorization header"}
{"level":"INFO","time":"2025-11-03T22:53:40.608+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Login controller called"}
{"level":"INFO","time":"2025-11-03T22:53:40.609+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Request received: email=test@example.com"}
{"level":"INFO","time":"2025-11-03T22:53:40.609+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login attempt for email: test@example.com"}
{"level":"INFO","time":"2025-11-03T22:53:40.616+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"User found: teddy (ID: 5cb803f9-8ebb-4458-bedc-615f1548ab0e)"}
{"level":"INFO","time":"2025-11-03T22:53:40.689+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Password verified successfully"}
{"level":"INFO","time":"2025-11-03T22:53:40.693+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Creating session for user: 5cb803f9-8ebb-4458-bedc-615f1548ab0e"}
{"level":"INFO","time":"2025-11-03T22:53:40.706+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Session created successfully: 4c8e4b9a-e590-4038-8cd0-11844a030ec9"}
{"level":"INFO","time":"2025-11-03T22:53:40.706+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Session saved successfully: 4c8e4b9a-e590-4038-8cd0-11844a030ec9"}
{"level":"INFO","time":"2025-11-03T22:53:40.706+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login successful, JWT tokens generated"}
{"level":"INFO","time":"2025-11-03T22:53:40.706+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Service success, sending response"}
{"level":"INFO","time":"2025-11-03T22:55:23.762+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T22:55:23.812+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T22:55:23.813+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"INFO","time":"2025-11-03T22:55:24.055+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Database migration completed: roles, users, sessions, permissions, role_permissions, user_roles tables created/updated"}
{"level":"INFO","time":"2025-11-03T22:55:24.058+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-03T22:56:15.939+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T22:56:15.941+0700","caller":"logger/logger.go:37","msg":"controller:CreatePermission","msg":"CreatePermission controller called"}
{"level":"INFO","time":"2025-11-03T22:56:15.942+0700","caller":"logger/logger.go:37","msg":"controller:CreatePermission","msg":"Request received: name=Tạo người dùng, code=user.create"}
{"level":"INFO","time":"2025-11-03T22:56:15.942+0700","caller":"logger/logger.go:37","msg":"service:CreatePermission","msg":"Creating new permission: Tạo người dùng (user.create)"}
{"level":"INFO","time":"2025-11-03T22:56:15.943+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByCode","msg":"Getting permission by code: user.create"}
{"level":"ERROR","time":"2025-11-03T22:56:15.946+0700","caller":"logger/logger.go:45","msg":"repository:GetPermissionByCode","msg":"Permission not found: user.create, error: record not found","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/repository.(*permissionRepository).GetPermissionByCode\n\tD:/here/workHub/internal/repository/permission_repo.go:83\nworkHub/internal/service.(*PermissionService).CreatePermission\n\tD:/here/workHub/internal/service/permission_service.go:49\nworkHub/internal/controller.(*PermissionController).CreatePermission\n\tD:/here/workHub/internal/controller/permission_controller.go:41\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\nworkHub/router.InitRouter.AuthMiddleware.func1\n\tD:/here/workHub/middleware/auth_middleware.go:80\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"INFO","time":"2025-11-03T22:56:15.946+0700","caller":"logger/logger.go:37","msg":"repository:CreatePermission","msg":"Creating permission: Tạo người dùng (user.create)"}
{"level":"INFO","time":"2025-11-03T22:56:15.950+0700","caller":"logger/logger.go:37","msg":"repository:CreatePermission","msg":"Permission created successfully: 3015cad0-6643-4c3b-91cc-a77ced949f4f"}
{"level":"INFO","time":"2025-11-03T22:56:15.951+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Getting permission by ID: 3015cad0-6643-4c3b-91cc-a77ced949f4f"}
{"level":"INFO","time":"2025-11-03T22:56:15.952+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Permission found: Tạo người dùng"}
{"level":"INFO","time":"2025-11-03T22:56:15.953+0700","caller":"logger/logger.go:37","msg":"service:CreatePermission","msg":"Permission created successfully: Tạo người dùng"}
{"level":"INFO","time":"2025-11-03T22:56:15.953+0700","caller":"logger/logger.go:37","msg":"controller:CreatePermission","msg":"Permission created successfully"}
{"level":"INFO","time":"2025-11-03T22:56:38.188+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T22:56:38.188+0700","caller":"logger/logger.go:37","msg":"controller:CreatePermission","msg":"CreatePermission controller called"}
{"level":"INFO","time":"2025-11-03T22:56:38.188+0700","caller":"logger/logger.go:37","msg":"controller:CreatePermission","msg":"Request received: name=Xem người dùng, code=user.read"}
{"level":"INFO","time":"2025-11-03T22:56:38.188+0700","caller":"logger/logger.go:37","msg":"service:CreatePermission","msg":"Creating new permission: Xem người dùng (user.read)"}
{"level":"INFO","time":"2025-11-03T22:56:38.188+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByCode","msg":"Getting permission by code: user.read"}
{"level":"ERROR","time":"2025-11-03T22:56:38.191+0700","caller":"logger/logger.go:45","msg":"repository:GetPermissionByCode","msg":"Permission not found: user.read, error: record not found","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/repository.(*permissionRepository).GetPermissionByCode\n\tD:/here/workHub/internal/repository/permission_repo.go:83\nworkHub/internal/service.(*PermissionService).CreatePermission\n\tD:/here/workHub/internal/service/permission_service.go:49\nworkHub/internal/controller.(*PermissionController).CreatePermission\n\tD:/here/workHub/internal/controller/permission_controller.go:41\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\nworkHub/router.InitRouter.AuthMiddleware.func1\n\tD:/here/workHub/middleware/auth_middleware.go:80\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"INFO","time":"2025-11-03T22:56:38.191+0700","caller":"logger/logger.go:37","msg":"repository:CreatePermission","msg":"Creating permission: Xem người dùng (user.read)"}
{"level":"INFO","time":"2025-11-03T22:56:38.196+0700","caller":"logger/logger.go:37","msg":"repository:CreatePermission","msg":"Permission created successfully: 16066766-bcec-42ab-8761-5a3c046e9abf"}
{"level":"INFO","time":"2025-11-03T22:56:38.196+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Getting permission by ID: 16066766-bcec-42ab-8761-5a3c046e9abf"}
{"level":"INFO","time":"2025-11-03T22:56:38.197+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Permission found: Xem người dùng"}
{"level":"INFO","time":"2025-11-03T22:56:38.197+0700","caller":"logger/logger.go:37","msg":"service:CreatePermission","msg":"Permission created successfully: Xem người dùng"}
{"level":"INFO","time":"2025-11-03T22:56:38.197+0700","caller":"logger/logger.go:37","msg":"controller:CreatePermission","msg":"Permission created successfully"}
{"level":"INFO","time":"2025-11-03T22:56:57.054+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T22:56:57.054+0700","caller":"logger/logger.go:37","msg":"controller:ListPermissions","msg":"ListPermissions controller called"}
{"level":"INFO","time":"2025-11-03T22:56:57.054+0700","caller":"logger/logger.go:37","msg":"controller:ListPermissions","msg":"Query params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-03T22:56:57.054+0700","caller":"logger/logger.go:37","msg":"service:ListPermissions","msg":"Listing permissions with params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-03T22:56:57.054+0700","caller":"logger/logger.go:37","msg":"repository:ListPermissions","msg":"Listing permissions with params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-03T22:56:57.058+0700","caller":"logger/logger.go:37","msg":"repository:ListPermissions","msg":"Listed 2 permissions successfully"}
{"level":"INFO","time":"2025-11-03T22:56:57.058+0700","caller":"logger/logger.go:37","msg":"service:ListPermissions","msg":"Listed 2 permissions successfully"}
{"level":"INFO","time":"2025-11-03T22:56:57.058+0700","caller":"logger/logger.go:37","msg":"controller:ListPermissions","msg":"Permissions listed successfully"}
{"level":"INFO","time":"2025-11-03T22:59:05.287+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T22:59:05.288+0700","caller":"logger/logger.go:37","msg":"controller:AssignPermissionsToRole","msg":"AssignPermissionsToRole controller called"}
{"level":"INFO","time":"2025-11-03T22:59:05.288+0700","caller":"logger/logger.go:37","msg":"controller:AssignPermissionsToRole","msg":"Assigning 2 permissions to role: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T22:59:05.288+0700","caller":"logger/logger.go:37","msg":"service:AssignPermissionsToRole","msg":"Assigning permissions to role: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T22:59:05.288+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Getting role by ID: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T22:59:05.291+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Role found: Administrator"}
{"level":"INFO","time":"2025-11-03T22:59:05.291+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Getting permission by ID: perm-id-1"}
{"level":"ERROR","time":"2025-11-03T22:59:05.295+0700","caller":"logger/logger.go:45","msg":"repository:GetPermissionByID","msg":"Permission not found: perm-id-1, error: ERROR: invalid input syntax for type uuid: \"perm-id-1\" (SQLSTATE 22P02)","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/repository.(*permissionRepository).GetPermissionByID\n\tD:/here/workHub/internal/repository/permission_repo.go:66\nworkHub/internal/service.(*PermissionService).AssignPermissionsToRole\n\tD:/here/workHub/internal/service/permission_service.go:165\nworkHub/internal/controller.(*PermissionController).AssignPermissionsToRole\n\tD:/here/workHub/internal/controller/permission_controller.go:187\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\nworkHub/router.InitRouter.AuthMiddleware.func1\n\tD:/here/workHub/middleware/auth_middleware.go:80\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"ERROR","time":"2025-11-03T22:59:05.296+0700","caller":"logger/logger.go:45","msg":"service:AssignPermissionsToRole","msg":"Permission not found: perm-id-1","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/service.(*PermissionService).AssignPermissionsToRole\n\tD:/here/workHub/internal/service/permission_service.go:167\nworkHub/internal/controller.(*PermissionController).AssignPermissionsToRole\n\tD:/here/workHub/internal/controller/permission_controller.go:187\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\nworkHub/router.InitRouter.AuthMiddleware.func1\n\tD:/here/workHub/middleware/auth_middleware.go:80\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"ERROR","time":"2025-11-03T22:59:05.297+0700","caller":"logger/logger.go:45","msg":"controller:AssignPermissionsToRole","msg":"Service error: not found","stacktrace":"workHub/logger.Error\n\tD:/here/workHub/logger/logger.go:45\nworkHub/internal/controller.(*PermissionController).AssignPermissionsToRole\n\tD:/here/workHub/internal/controller/permission_controller.go:189\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\nworkHub/router.InitRouter.AuthMiddleware.func1\n\tD:/here/workHub/middleware/auth_middleware.go:80\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.CustomRecoveryWithWriter.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/recovery.go:92\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/logger.go:249\ngithub.com/gin-gonic/gin.(*Context).Next\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/context.go:192\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:689\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\n\tC:/Users/NCPC/go/pkg/mod/github.com/gin-gonic/gin@v1.11.0/gin.go:643\nnet/http.serverHandler.ServeHTTP\n\tC:/Program Files/Go/src/net/http/server.go:3301\nnet/http.(*conn).serve\n\tC:/Program Files/Go/src/net/http/server.go:2102"}
{"level":"INFO","time":"2025-11-03T22:59:43.431+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T22:59:43.431+0700","caller":"logger/logger.go:37","msg":"controller:AssignPermissionsToRole","msg":"AssignPermissionsToRole controller called"}
{"level":"INFO","time":"2025-11-03T22:59:43.431+0700","caller":"logger/logger.go:37","msg":"controller:AssignPermissionsToRole","msg":"Assigning 2 permissions to role: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T22:59:43.431+0700","caller":"logger/logger.go:37","msg":"service:AssignPermissionsToRole","msg":"Assigning permissions to role: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T22:59:43.431+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Getting role by ID: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T22:59:43.434+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Role found: Administrator"}
{"level":"INFO","time":"2025-11-03T22:59:43.434+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Getting permission by ID: 3015cad0-6643-4c3b-91cc-a77ced949f4f"}
{"level":"INFO","time":"2025-11-03T22:59:43.436+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Permission found: Tạo người dùng"}
{"level":"INFO","time":"2025-11-03T22:59:43.436+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Getting permission by ID: 16066766-bcec-42ab-8761-5a3c046e9abf"}
{"level":"INFO","time":"2025-11-03T22:59:43.436+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionByID","msg":"Permission found: Xem người dùng"}
{"level":"INFO","time":"2025-11-03T22:59:43.437+0700","caller":"logger/logger.go:37","msg":"repository:AssignPermissionsToRole","msg":"Assigning 2 permissions to role: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T22:59:43.442+0700","caller":"logger/logger.go:37","msg":"repository:AssignPermissionsToRole","msg":"Permissions assigned successfully"}
{"level":"INFO","time":"2025-11-03T22:59:43.443+0700","caller":"logger/logger.go:37","msg":"service:AssignPermissionsToRole","msg":"Permissions assigned successfully"}
{"level":"INFO","time":"2025-11-03T22:59:43.443+0700","caller":"logger/logger.go:37","msg":"controller:AssignPermissionsToRole","msg":"Permissions assigned successfully"}
{"level":"INFO","time":"2025-11-03T23:00:16.197+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T23:00:16.197+0700","caller":"logger/logger.go:37","msg":"controller:GetRoleWithPermissions","msg":"GetRoleWithPermissions controller called"}
{"level":"INFO","time":"2025-11-03T23:00:16.197+0700","caller":"logger/logger.go:37","msg":"controller:GetRoleWithPermissions","msg":"Query params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-03T23:00:16.197+0700","caller":"logger/logger.go:37","msg":"service:GetRoleWithPermissions","msg":"Getting role with permissions: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T23:00:16.197+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Getting role by ID: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T23:00:16.199+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Role found: Administrator"}
{"level":"INFO","time":"2025-11-03T23:00:16.200+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionsByRoleID","msg":"Getting permissions for role: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0 with params: page=1, size=10, search="}
{"level":"INFO","time":"2025-11-03T23:00:16.203+0700","caller":"logger/logger.go:37","msg":"repository:GetPermissionsByRoleID","msg":"Found 2 permissions"}
{"level":"INFO","time":"2025-11-03T23:00:16.203+0700","caller":"logger/logger.go:37","msg":"service:GetRoleWithPermissions","msg":"Role with 2 permissions retrieved"}
{"level":"INFO","time":"2025-11-03T23:00:16.203+0700","caller":"logger/logger.go:37","msg":"controller:GetRoleWithPermissions","msg":"Role with permissions retrieved successfully"}
{"level":"INFO","time":"2025-11-03T23:02:10.208+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T23:02:10.208+0700","caller":"logger/logger.go:37","msg":"controller:AssignRolesToUser","msg":"AssignRolesToUser controller called"}
{"level":"INFO","time":"2025-11-03T23:02:10.208+0700","caller":"logger/logger.go:37","msg":"service:AssignRolesToUser","msg":"Assigning roles to user: 5cb803f9-8ebb-4458-bedc-615f1548ab0e"}
{"level":"INFO","time":"2025-11-03T23:02:10.208+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Getting role by ID: 4162f1d9-ac7c-4cee-bcc9-224c598c18d0"}
{"level":"INFO","time":"2025-11-03T23:02:10.210+0700","caller":"logger/logger.go:37","msg":"repository:GetRoleByID","msg":"Role found: Administrator"}
{"level":"INFO","time":"2025-11-03T23:02:10.210+0700","caller":"logger/logger.go:37","msg":"repository:AssignRolesToUser","msg":"Assigning 1 roles to user: 5cb803f9-8ebb-4458-bedc-615f1548ab0e"}
{"level":"INFO","time":"2025-11-03T23:02:10.220+0700","caller":"logger/logger.go:37","msg":"repository:AssignRolesToUser","msg":"Roles assigned successfully"}
{"level":"INFO","time":"2025-11-03T23:02:10.222+0700","caller":"logger/logger.go:37","msg":"service:AssignRolesToUser","msg":"Roles assigned successfully"}
{"level":"INFO","time":"2025-11-03T23:02:52.048+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example.com"}
{"level":"INFO","time":"2025-11-03T23:02:52.049+0700","caller":"logger/logger.go:37","msg":"controller:GetUserPermissions","msg":"GetUserPermissions controller called"}
{"level":"INFO","time":"2025-11-03T23:02:52.049+0700","caller":"logger/logger.go:37","msg":"service:GetUserPermissions","msg":"Getting permissions for user: 5cb803f9-8ebb-4458-bedc-615f1548ab0e"}
{"level":"INFO","time":"2025-11-03T23:02:52.049+0700","caller":"logger/logger.go:37","msg":"repository:GetUserPermissions","msg":"Getting all permissions for user: 5cb803f9-8ebb-4458-bedc-615f1548ab0e"}
{"level":"INFO","time":"2025-11-03T23:02:52.053+0700","caller":"logger/logger.go:37","msg":"repository:GetUserPermissions","msg":"Found 2 permissions"}
{"level":"INFO","time":"2025-11-03T23:02:52.053+0700","caller":"logger/logger.go:37","msg":"service:GetUserPermissions","msg":"Found 2 permissions"}
{"level":"INFO","time":"2025-11-03T23:07:27.119+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-03T23:07:27.140+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-03T23:07:27.140+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"INFO","time":"2025-11-03T23:07:27.331+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Database migration completed: roles, users, sessions, permissions, role_permissions, user_roles tables created/updated"}
{"level":"INFO","time":"2025-11-03T23:07:27.333+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-03T23:08:34.198+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Login controller called"}
{"level":"INFO","time":"2025-11-03T23:08:34.199+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Request received: email=test@example123.com"}
{"level":"INFO","time":"2025-11-03T23:08:34.199+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login attempt for email: test@example123.com"}
{"level":"INFO","time":"2025-11-03T23:08:34.203+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"User found: teddy123 (ID: 7003f053-a587-473c-9a18-40163557fba2)"}
{"level":"INFO","time":"2025-11-03T23:08:34.494+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Password verified successfully"}
{"level":"INFO","time":"2025-11-03T23:08:34.503+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Creating session for user: 7003f053-a587-473c-9a18-40163557fba2"}
{"level":"INFO","time":"2025-11-03T23:08:34.508+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Session created successfully: 5c04d3ec-ef66-4cc0-b80e-d54958534ff9"}
{"level":"INFO","time":"2025-11-03T23:08:34.508+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Session saved successfully: 5c04d3ec-ef66-4cc0-b80e-d54958534ff9"}
{"level":"INFO","time":"2025-11-03T23:08:34.509+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login successful, JWT tokens generated"}
{"level":"INFO","time":"2025-11-03T23:08:34.509+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Service success, sending response"}
{"level":"INFO","time":"2025-11-03T23:10:15.569+0700","caller":"logger/logger.go:37","msg":"middleware:AuthMiddleware","msg":"User authenticated: test@example123.com"}
{"level":"WARN","time":"2025-11-03T23:10:15.570+0700","caller":"logger/logger.go:41","msg":"middleware:PermissionMiddleware","msg":"Invalid user ID type"}
{"level":"INFO","time":"2025-11-04T08:59:34.194+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-04T08:59:34.236+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-04T08:59:34.236+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"INFO","time":"2025-11-04T08:59:34.729+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Database migration completed: roles, users, sessions, permissions, role_permissions, user_roles tables created/updated"}
{"level":"INFO","time":"2025-11-04T08:59:34.781+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-04T09:03:22.401+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Login controller called"}
{"level":"INFO","time":"2025-11-04T09:03:22.401+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Request received: email=test@example123.com"}
{"level":"INFO","time":"2025-11-04T09:03:22.402+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login attempt for email: test@example123.com"}
{"level":"INFO","time":"2025-11-04T09:03:22.406+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"User found: teddy123 (ID: 7003f053-a587-473c-9a18-40163557fba2)"}
{"level":"INFO","time":"2025-11-04T09:03:22.623+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Password verified successfully"}
{"level":"INFO","time":"2025-11-04T09:03:22.625+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Creating session for user: 7003f053-a587-473c-9a18-40163557fba2"}
{"level":"INFO","time":"2025-11-04T09:03:22.628+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Session created successfully: b27df429-517b-47de-8f1b-17a6d9e19d59"}
{"level":"INFO","time":"2025-11-04T09:03:22.628+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Session saved successfully: b27df429-517b-47de-8f1b-17a6d9e19d59"}
{"level":"INFO","time":"2025-11-04T09:03:22.628+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login successful, JWT tokens generated"}
{"level":"INFO","time":"2025-11-04T09:03:22.628+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Service success, sending response"}
{"level":"INFO","time":"2025-11-04T09:26:10.808+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Login controller called"}
{"level":"INFO","time":"2025-11-04T09:26:10.809+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Request received: email=test@example123.com"}
{"level":"INFO","time":"2025-11-04T09:26:10.809+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login attempt for email: test@example123.com"}
{"level":"INFO","time":"2025-11-04T09:26:10.853+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"User found: teddy123 (ID: 7003f053-a587-473c-9a18-40163557fba2)"}
{"level":"INFO","time":"2025-11-04T09:26:11.094+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Password verified successfully"}
{"level":"INFO","time":"2025-11-04T09:26:11.100+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Creating session for user: 7003f053-a587-473c-9a18-40163557fba2"}
{"level":"INFO","time":"2025-11-04T09:26:11.115+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Session created successfully: bfb04bec-952b-4e3d-8ebf-d7fa38aa3706"}
{"level":"INFO","time":"2025-11-04T09:26:11.116+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Session saved successfully: bfb04bec-952b-4e3d-8ebf-d7fa38aa3706"}
{"level":"INFO","time":"2025-11-04T09:26:11.116+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login successful, JWT tokens generated"}
{"level":"INFO","time":"2025-11-04T09:26:11.116+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Service success, sending response"}
{"level":"INFO","time":"2025-11-04T09:27:51.238+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-04T09:27:51.249+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-04T09:27:51.250+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"INFO","time":"2025-11-04T09:27:51.499+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Database migration completed: roles, users, sessions, permissions, role_permissions, user_roles tables created/updated"}
{"level":"INFO","time":"2025-11-04T09:27:51.501+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-04T09:28:45.649+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-04T09:28:45.660+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-04T09:28:45.660+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"INFO","time":"2025-11-04T09:28:45.837+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Database migration completed: roles, users, sessions, permissions, role_permissions, user_roles tables created/updated"}
{"level":"INFO","time":"2025-11-04T09:28:45.839+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-06T16:12:06.322+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Connecting to database..."}
{"level":"INFO","time":"2025-11-06T16:12:06.340+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Database connected successfully"}
{"level":"INFO","time":"2025-11-06T16:12:06.340+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Starting database migration..."}
{"level":"INFO","time":"2025-11-06T16:12:06.629+0700","caller":"logger/logger.go:37","msg":"config:AutoMigrate","msg":"Database migration completed: roles, users, sessions, permissions, role_permissions, user_roles tables created/updated"}
{"level":"INFO","time":"2025-11-06T16:12:06.632+0700","caller":"logger/logger.go:37","msg":"main:main","msg":"Server đang chạy tại: http://localhost:8088"}
{"level":"INFO","time":"2025-11-06T16:33:41.929+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Login controller called"}
{"level":"INFO","time":"2025-11-06T16:33:41.936+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Request received: email=test@example123.com"}
{"level":"INFO","time":"2025-11-06T16:33:41.937+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login attempt for email: test@example123.com"}
{"level":"INFO","time":"2025-11-06T16:33:41.962+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"User found: teddy123 (ID: 7003f053-a587-473c-9a18-40163557fba2)"}
{"level":"INFO","time":"2025-11-06T16:33:42.194+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Password verified successfully"}
{"level":"INFO","time":"2025-11-06T16:33:42.206+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Creating session for user: 7003f053-a587-473c-9a18-40163557fba2"}
{"level":"INFO","time":"2025-11-06T16:33:42.227+0700","caller":"logger/logger.go:37","msg":"repository:CreateSession","msg":"Session created successfully: 39fb9ef7-538b-4779-9bb6-3876d7005549"}
{"level":"INFO","time":"2025-11-06T16:33:42.227+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Session saved to DB successfully: 39fb9ef7-538b-4779-9bb6-3876d7005549"}
{"level":"INFO","time":"2025-11-06T16:33:42.227+0700","caller":"logger/logger.go:37","msg":"repository:SaveSession","msg":"Saving session to Redis: 39fb9ef7-538b-4779-9bb6-3876d7005549"}
{"level":"INFO","time":"2025-11-06T16:33:42.272+0700","caller":"logger/logger.go:37","msg":"repository:SaveSession","msg":"Session saved to Redis successfully: 39fb9ef7-538b-4779-9bb6-3876d7005549"}
{"level":"INFO","time":"2025-11-06T16:33:42.272+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Session saved to Redis successfully: 39fb9ef7-538b-4779-9bb6-3876d7005549"}
{"level":"INFO","time":"2025-11-06T16:33:42.273+0700","caller":"logger/logger.go:37","msg":"service:Login","msg":"Login successful, JWT tokens generated"}
{"level":"INFO","time":"2025-11-06T16:33:42.273+0700","caller":"logger/logger.go:37","msg":"controller:Login","msg":"Service success, sending response"}
